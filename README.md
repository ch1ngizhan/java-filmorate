# java-filmorate

# ER-диаграмма базы данных
![ER-диаграмма базы данных](src/main/resources/er-diagram.png)
Схема базы данных предназначена для хранения информации о пользователях, фильмах, жанрах, рейтингах, лайках и дружеских связях.

## Сущности

### 1. users
Хранит информацию о пользователях.
- *user_id* — уникальный идентификатор пользователя (PK)
- *email* — адрес электронной почты (уникальный)
- *login* — логин пользователя
- *name* — имя пользователя
- *birthday* — дата рождения

### 2. mpa_rating
Справочник рейтингов фильмов по системе MPA.
- *mpa_rating_id* — уникальный идентификатор рейтинга (PK)
- *name* — название рейтинга

### 3. genres
Справочник жанров фильмов.
- *genre_id* — уникальный идентификатор жанра (PK)
- *name* — название жанра

### 4. films
Хранит информацию о фильмах.
- *film_id* — уникальный идентификатор фильма (PK)
- *name* — название фильма
- *description* — краткое описание
- *release_date* — дата выхода
- *duration* — длительность в минутах
- *mpa_rating_id* — внешний ключ на mpa_rating

### 5. film_like
Фиксирует лайки пользователей к фильмам.
- *user_id* — внешний ключ на users
- *film_id* — внешний ключ на films
- *PRIMARY KEY* — (user_id, film_id)

### 6. friendships
Хранит информацию о дружбе между пользователями.
- *user_id* — внешний ключ на users
- *friend_id* — внешний ключ на users
- *status* — статус дружбы (например, confirmed или pending)
- *PRIMARY KEY* — (user_id, friend_id)

### 7. film_genre
Связь между фильмами и жанрами (многие-ко-многим).
- *film_id* — внешний ключ на films
- *genre_id* — внешний ключ на genres
- *PRIMARY KEY* — (film_id, genre_id)

---

## Связи между сущностями

- *users ↔ film_like ↔ films* — многие-ко-многим: один пользователь может лайкнуть несколько фильмов, один фильм может быть лайкнут многими пользователями.
- *users ↔ friendships ↔ users* — самоссылка: пользователи могут быть друзьями друг с другом.
- *films ↔ mpa_rating* — многие-к-одному: каждый фильм имеет один рейтинг MPA, но один рейтинг может относиться к нескольким фильмам.
- *films ↔ film_genre ↔ genres* — многие-ко-многим: фильм может иметь несколько жанров, жанр может относиться к разным фильмам.
-
